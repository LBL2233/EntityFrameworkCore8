该方法使用VS中的Nuget包管理器控制台进行数据库迁移。
1. 确保已经安装Microsoft.EntityFrameworkCore.Tools工具包。如果没有安装，可以通过Nuget包管理器安装：
   ```
   Install-Package Microsoft.EntityFrameworkCore.Tools
   ```
2. 打开Nuget包管理器控制台
3. 要执行第一次迁移，创建迁移的命令是：
   ```
   Add-Migration InitialCreate
   ```
   其中InitialCreate是迁移名称
   若迁移命令无误并且成功执行，会在项目中生成一个Migrations文件夹
   该文件夹中包含两个文件：
   - 一个是迁移类文件，文件名称由时间戳与迁移名称组成，包含Up和Down方法，该迁移文件将表示EntityFramework需要对数据库进行的特定更改，以反映DbContext的当前状态。
   - 另一个是模型快照文件，表示DbContext的当前版本或当前状态，以便将来可以参考此文件，迁移将基于DbContext的当前状态与此快照进行比较生成
   
   由于迁移本身不会直接在数据库中应用更改，因此需要执行以下命令将迁移应用到数据库：
   ```
   Update-Database
   ```
   也可以添加-v参数查看详细信息
   ```
   Update-Database -v
   ```

   4.要为迄今为止创建的所有迁移生成迁移脚本，可以使用以下命令：
   ```
   Script-Migration
   ```
   一旦项目构建完成，将生成SQL文件，其中包含创建DBContext架构的这个脚本，以便安全的审查并应用到数据库中

   还可以指定迁移名称来生成从特定迁移到最新迁移的脚本，例如：
   ```
   Script-Migration 迁移名称
   ```

   还可以指定起始和结束迁移名称来生成从起始迁移到结束迁移的脚本，例如：
   ```
   Script-Migration 起始迁移名称 结束迁移名称
   ```

   还可以生成幂等SQL脚本，幂等脚本会通过migrationhistory表检查哪些迁移已经应用，然后只应用那些尚未应用的迁移
   若不确定特定数据库上最后应用的迁移是什么，或者在跨多个数据库部署迁移(每个数据库可能处于不同的迁移状态)时，使用幂等脚本非常有用
   ```
   Script-Migration -Idempotent
   ```

   要应用迁移还可以使用DBContext进行自动化
   ```csharp
   using (var context = new YourDbContext())
   {
	   context.Database.Migrate();
   }
   ```

   5.撤销迁移
   在迁移未应用到数据库之前，可以使用以下命令撤销最后一次迁移引入的更改：
   ```
   Remove-Migration
   ```

   如果迁移已经应用到数据库，并且想要撤销数据库中最后一次迁移引入的更改，可以使用以下命令将数据库回滚到上一个迁移状态：
   ```
   Update-Database 上一个迁移名称
   ```
   然后再使用Remove-Migration命令删除最后一次迁移
   ```
   Remove-Migration
   ```